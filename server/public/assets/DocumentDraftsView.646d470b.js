import{d as i,g as A,o as l,c as n,h as b,i as p,a as t,F as u,e as S,f as m,w as x,t as d,b as _,j as C,l as $}from"./index.d1b5e4f8.js";import{S as f}from"./SuccessAlert.799c5fd1.js";const w={class:"table"},V=t("thead",{class:"table-head"},[t("tr",{class:"table-head-row"},[t("td",{class:"br-tl-1"},"Title"),t("td",null,"Related Service"),t("td",null,"TimeStamp"),t("td",{class:"actions br-tr-1"},"Actions")])],-1),B={class:"table-body"},N={class:"table-body-row"},T={class:"table-body-cell action"},M={class:"table-body-cell"},F={class:"table-body-cell"},P={class:"table-body-cell buttons-cell pl-1"},j={class:"flex f-gap-1"},q=t("button",{class:"btn btn-success"},[t("i",{class:"fa-regular fa-pen-to-square action"})],-1),E=["onClick"],L=t("i",{class:"fa-solid fa-trash action"},null,-1),R=[L],z=["onClick"],G=t("p",null,"Publish",-1),H=[G],I={__name:"DocumentTable",props:{documentArray:Array},setup(h){const c=h,e=i(!1),r=i(!1),y=s=>{console.log(s),_.delete(`/api/delete/draft/${s}`).then(a=>{e.value=!0}).catch(a=>{console.error(a.response.data)})},v=s=>{_.post(`/api/publish/draft/${s}`).then(a=>{r.value=!0}).catch(a=>{console.error(a.response.data)}),console.log(s)},g="/document/";return(s,a)=>{const k=A("router-link");return l(),n(u,null,[e.value?(l(),b(f,{key:0,successMessage:"Draft Deleted Successfully"})):p("",!0),r.value?(l(),b(f,{key:1,successMessage:"Draft Published Successfully"})):p("",!0),t("table",w,[V,t("tbody",B,[(l(!0),n(u,null,S(c.documentArray,o=>(l(),n("tr",N,[t("td",T,[m(k,{to:g+o.draft_id},{default:x(()=>[C(d(o.draft_title),1)]),_:2},1032,["to"])]),t("td",M,d(o.related_service),1),t("td",F,d(o.timestamp),1),t("td",P,[t("div",j,[q,t("button",{onClick:D=>y(o.draft_id),class:"btn btn-danger"},R,8,E),t("button",{onClick:D=>v(o.draft_id),class:"btn btn-secondary"},H,8,z)])])]))),256))])])],64)}}},J=t("h1",null,"Drafts",-1),K={class:"mt-5"},U={__name:"DocumentDraftsView",setup(h){const c=i([]);return $(()=>{_.get("/api/getall/document/drafts").then(e=>{e.data.status==="success"&&(c.value=e.data.documentDrafts)}).catch(e=>{console.error(e.response.data)})}),(e,r)=>(l(),n(u,null,[J,t("div",K,[m(I,{documentArray:c.value},null,8,["documentArray"])])],64))}};export{U as default};
