import{o as n,c as a,a as e,t as c,i as d,_ as x,q as w,b as k,p as N,m as I,d as g,l as A,g as H,s as B,j as $,f as S,F as p,e as f,u as C,h as P,w as F}from"./index.d1b5e4f8.js";const L={class:"card"},U={class:"card-title"},j={class:"card-body"},G={key:0},R={key:1},q={key:2},O={key:3},z={key:4},J={key:5},K={key:6},Q={class:"card-footer"},W=["href"],X={__name:"HardwareCard",props:{deviceName:String,hostname:String,management:String,ram:String,storage:String,nics:String,cost:String,serialNumber:String},setup(t){return(u,m)=>(n(),a("div",L,[e("div",U,[e("h3",null,c(t.deviceName),1)]),e("div",j,[t.hostname!=="null"?(n(),a("p",G,"Hostname: "+c(t.hostname),1)):d("",!0),t.management!=="null"?(n(),a("p",R,"IPMI: "+c(t.management),1)):d("",!0),t.ram!=="0"?(n(),a("p",q,"RAM: "+c(t.ram),1)):d("",!0),t.storage!=="nullx nullnull null"?(n(),a("p",O,"Storage: "+c(t.storage),1)):d("",!0),t.nics!=="null"?(n(),a("p",z,"NICs: "+c(t.nics),1)):d("",!0),t.cost!=="null"?(n(),a("p",J,"Cost: "+c(t.cost),1)):d("",!0),t.serialNumber!=="null"?(n(),a("p",K,"SN: "+c(t.serialNumber),1)):d("",!0)]),e("div",Q,[e("a",{href:t.management,target:"_blank"},"MANAGE",8,W)])]))}};const Y=t=>(N("data-v-7373c8a9"),t=t(),I(),t),Z={class:"card"},ee={class:"card-title"},te={class:"card-body"},se={key:0},ne=Y(()=>e("br",null,null,-1)),ae={class:"card-footer"},oe=["href"],ce={__name:"CredentialCard",props:{cred_id:Number,title:String,username:String,password:String,link:String},setup(t){const u=t;w();function m(_){var i=document.createElement("input");i.style="position: absolute; left: -1000px; top: -1000px",i.value=_,document.body.appendChild(i),i.select(),document.execCommand("copy"),document.body.removeChild(i)}const h=_=>{k.get(`/api/copyPassword/${u.cred_id}`).then(i=>{const v=i.data.password.password;m(v)}).catch(i=>{console.error(i.response.data)})};return(_,i)=>(n(),a("div",Z,[e("div",ee,[e("h3",null,c(t.title),1)]),e("div",te,[t.username!==null?(n(),a("p",se,"Username: "+c(t.username),1)):d("",!0),ne,e("button",{onClick:i[0]||(i[0]=v=>h(t.cred_id)),class:"btn btn-secondary"},c(t.password),1)]),e("div",ae,[e("a",{href:t.link,target:"_blank"},"LOGIN",8,oe)])]))}},ie=x(ce,[["__scopeId","data-v-7373c8a9"]]),le={class:"tags-item"},de={__name:"TagItem",props:{tag:String},setup(t){return(u,m)=>(n(),a("div",le,[e("p",null,c(t.tag),1)]))}};const r=t=>(N("data-v-d8985234"),t=t(),I(),t),re={class:"page-title mb-1"},ue={key:0},_e={key:1},me=r(()=>e("strong",null,"$0.00",-1)),ve={class:"tags flex f-gap"},he=r(()=>e("div",{class:"tags-title flex f-just-center f-align-center"},[e("p",null,"Tags")],-1)),ge={class:"tags-list flex f-gap f-align-center"},pe=r(()=>e("div",{class:"tags-item tags-item-add"}," + ",-1)),fe={class:"mt-1 mb-2 section-container"},$e=r(()=>e("div",{class:"section-title"},[e("h2",null,"Hardware")],-1)),Se={class:"section"},ke={class:"card-list-wrapper mt-1"},ye=r(()=>e("p",null,"+",-1)),be=[ye],Ce={class:"section-container"},xe=r(()=>e("div",{class:"section-title"},[e("h2",null,"Credentials")],-1)),we={class:"section"},Ne={class:"mt-1 flex f-gap-2 f-align-center"},Ie=r(()=>e("p",null,"+",-1)),De=[Ie],Ee={class:"section-container"},Me=r(()=>e("div",{class:"section-title"},[e("h2",null,"Documentation")],-1)),Ve={class:"section"},Te={class:"mt-1 flex f-gap-2 f-align-center"},Ae={class:"document-link"},He={class:"document-link"},Be={class:"testing"},Pe={__name:"ServiceView",setup(t){const u=w(),m=g({title:null}),h=g([]),_=g(),i=g([]),v=g([]),D="/published/document/",y=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),E=()=>{C().openHardwareModal()},M=()=>{C().openCredModal()},V=l=>{let o=0;return l.forEach(s=>{o+=s.cost}),y.format(o)};A(()=>{k.get(`/api/get/service/${u.params.service_id}`).then(l=>{_.value=V(l.data.hardwareData),m.value.title=l.data.service_data.title,h.value=l.data.hardwareData,v.value=l.data.documents,i.value=l.data.creds,h.value.forEach(o=>{o.cost=y.format(o.cost)})}).catch(l=>{console.error(l.response.data)})});const T=l=>{console.log(l),k.delete(`/api/delete/service/${u.params.service_id}`).then(o=>{console.log(o.data)}).catch(o=>{console.error(o.response.data)})};return(l,o)=>{const b=H("router-link");return n(),a(p,null,[e("button",{onClick:o[0]||(o[0]=s=>T(B(u).params.service_id)),class:"btn btn-danger"},"DELETE"),e("div",re,[e("h1",null,c(m.value.title),1),_.value!==void 0?(n(),a("p",ue,[$("Total Cost for Service: "),e("strong",null,c(_.value),1)])):(n(),a("p",_e,[$("Total Cost for Service: "),me]))]),e("div",ve,[he,e("div",ge,[S(de,{tag:"Virtual"}),pe])]),e("div",fe,[$e,e("div",Se,[e("div",ke,[(n(!0),a(p,null,f(h.value,s=>(n(),a("div",null,[S(X,{deviceName:s.make_model,hostname:s.hostname,management:s.ipmi,ram:s.ram,storage:s.storage,nics:s.nics,cost:s.cost,serialNumber:s.serial_number},null,8,["deviceName","hostname","management","ram","storage","nics","cost","serialNumber"])]))),256)),e("div",{onClick:o[1]||(o[1]=s=>E()),class:"add-item"},be)])])]),e("div",Ce,[xe,e("div",we,[e("div",Ne,[(n(!0),a(p,null,f(i.value,s=>(n(),a("div",null,[S(ie,{cred_id:s.cred_id,title:s.title,username:s.username,password:"Copy Password",link:s.link},null,8,["cred_id","title","username","link"])]))),256)),e("div",{onClick:o[2]||(o[2]=s=>M()),class:"add-cred"},De)])])]),e("div",Ee,[Me,e("div",Ve,[e("div",Te,[e("div",Ae,[(n(!0),a(p,null,f(v.value,s=>(n(),P(b,{to:D+s.doc_id},{default:F(()=>[$(c(s.doc_title),1)]),_:2},1032,["to"]))),256))]),e("div",He,[(n(!0),a(p,null,f(v.value,s=>(n(),a("p",Be,c(s.doc_timestamp),1))),256))])])])])],64)}}},Le=x(Pe,[["__scopeId","data-v-d8985234"]]);export{Le as default};
